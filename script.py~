# -*- coding: utf-8 -*-

# ------------------------------------------------------------------------------
# ------ This script coded by Sumaia (@sumaia-a-k) and Ibraheem (@ihalloum)-----
# ------ For educational purposes only .                                   -----
# ------------------------------------------------------------------------------

import urllib2
import json
import _mysql
import MySQLdb as mdb

import sys

from page_functions import *
from group_functions import *

def main():
	if ( len(sys.argv) == 5):

		scrape_pages=sys.argv[1]
		scrape_groups=sys.argv[2]
		scrape_comments=sys.argv[3]
		scrape_replys=sys.argv[4]
		
		if ( scrape_pages.startswith("ScrapePage=") and scrape_groups.startswith("ScrapeGroup=") and scrape_comments.startswith("ScrapeComment=") and scrape_replys.startswith("ScrapeReply=")  ) :
			
			if ( (scrape_pages.endswith("=Y") or scrape_pages.endswith("=N") ) and (scrape_groups.endswith("=Y") or scrape_groups.endswith("=N") ) and (scrape_comments.endswith("=Y") or scrape_comments.endswith("=N") ) and (scrape_replys.endswith("=Y") or scrape_replys.endswith("=N") ) ) :
				global scrape_page
				global scrape_group
				global scrape_comment
				global scrape_reply
				if (scrape_pages.endswith("=Y")) :
					scrape_page = 1
				else :
					scrape_page = 0
				
				if (scrape_groups.endswith("=Y")) :
					scrape_group = 1
				else :
					scrape_group = 0
		
				if (scrape_comments.endswith("=Y")) :
					scrape_comment = 1
				else :
					scrape_comment = 0

				if (scrape_replys.endswith("=Y")) :
					scrape_reply = 1
				else :
					scrape_reply = 0
				
				if (scrape_page):
					scan_fb_pages()
				if (scrape_group):					
					scan_fb_groups()
				
			else :
				print "Bad Script Excute , make sure you write Value right"
				print "EX: python -W ignore "+sys.argv[0]+ " ScrapePage=Y ScrapeGroup=Y ScrapeComment=Y ScrapeReply=Y"
		else :
			print "Bad Script Excute , make sure you write Vars right"
			print "EX: python -W ignore "+sys.argv[0]+ " ScrapePage=Y ScrapeGroup=Y ScrapeComment=Y ScrapeReply=Y"
	else :
		print "Bad Script Excute , make sure you pass four Vars"
		print "EX: python -W ignore "+sys.argv[0]+ " ScrapePage=Y ScrapeGroup=Y ScrapeComment=Y ScrapeReply=Y"
main()
